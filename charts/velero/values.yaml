velero:
  initContainers:
    - name: velero-plugin-for-aws
      image: velero/velero-plugin-for-aws:v1.8.0
      imagePullPolicy: IfNotPresent
      volumeMounts:
        - mountPath: /target
          name: plugins
  configuration:
    backupStorageLocation:
      - name: default
        provider: aws
        bucket: "velero"
        config:
          region: minio-default
          s3ForcePathStyle: true
          s3Url: "http://s3proxy.velero.svc:80"
          publicUrl: "http://localhost:80"
    volumeSnapshotLocation:
      - name: default
        provider: aws
        credential:
          name: velero
          key: cloud
        config:
          region: minio-default
  snapshotsEnabled: false # TODO: true?
  deployNodeAgent: false # TODO: true?
  credentials:
    secretContents:
      cloud: "" # Templated.

s3-proxy:
  s3:
    # -- Credentials used to access this proxy
    identity: null
    # -- Credentials used to access this proxy
    credential: ""

  # -- Where requests should be proxied to
  # @default -- Check below
  target:
    # -- Target provider
    provider: null
    # -- Target endpoint
    endpoint: null
    # -- Target identity
    identity: null
    # -- Target credential
    credential: ""
    # -- Target Swift / Keystone API
    api: null
    # -- Singular region
    region: null
    # -- Multiple regions (keystone)
    regions: null
    filesystem:
      # -- Base directory for filesystem provider
      basedir: /data
    azureblob:
      # -- Authentication method for Azure
      auth: azureKey
    keystone:
      # -- Keystone (Swift) version
      version: null
      # -- Keystone (Swift) credential type
      credentialType: null
      # -- Keystone (Swift) scope
      scope: null
      # -- Keystone (Swift) project domain name
      projectDomainName: null
