icon: https://velero.io/img/Velero.svg
git_url: https://github.com/vmware-tanzu/velero
release_url: https://github.com/vmware-tanzu/velero/releases/tag/v{vsn}
helm_repository_url: https://vmware-tanzu.github.io/helm-charts
versions:
- version: 1.17.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: '### Helm values / install-arg changes to check


      **1) Restic uploader removed**

      - Velero 1.17 removes *creating new* fs-backups via Restic. The install/server
      option `--uploader-type=restic` is no longer valid.

      - If your Helm chart exposes this as a value (often something like `configuration.uploaderType`,
      `uploaderType`, `deployRestic`, or `features.enableRestic`), remove/disable
      it.

      - Existing Restic-based backups can still be **restored** until v1.19.


      **2) Repository maintenance job flags removed from server args**

      The following Velero server CLI flags are removed in v1.17 (so any Helm values
      that add them to `server.extraArgs` / `configuration.extraArgs` must be deleted):

      - `--keep-latest-maintenance-jobs`

      - `--maintenance-job-cpu-request`

      - `--maintenance-job-mem-request`

      - `--maintenance-job-cpu-limit`

      - `--maintenance-job-mem-limit`


      These settings are now expected to come from a **repository maintenance job
      ConfigMap** (chart typically manages this as a ConfigMap template/values).


      **3) PriorityClass configuration now possible (optional)**

      - v1.17 adds PriorityClass support for *server, node-agent, data mover pods,
      and maintenance jobs* separately.

      - If you need this, look for chart values like `priorityClassName` or per-component
      priority class knobs; otherwise no change required.


      **4) Node-agent config additions worth reviewing**

      - New `PrepareQueueLength` (node-agent config) to throttle data mover pod creation.

      - If your chart renders the node-agent config (ConfigMap), consider setting
      this for large clusters.


      **5) Windows scheduling/tolerations**

      - v1.17 adds `os=windows:NoSchedule` toleration for Windows pods (generally
      positive, but if you have strict scheduling policies, verify chart tolerations/affinity
      still match expectations).

      '
    chart_updates: [fs-backup (file system backup) has been re-architected to a micro-service
        model in 1.17; expect different data mover pod behavior and improved resiliency/concurrency
        characteristics during backups/restores., Repository maintenance configuration
        moved out of Velero server flags into a ConfigMap-driven approach; ensure
        the chart is rendering/creating the appropriate ConfigMap and you are not
        relying on removed server args., Additional scheduling controls are now available
        (PriorityClass support across modules; enhanced node selection for data mover
        pods including per-storage-class selection)., Kopia dependency bumps to v0.21.1
        (and Velero built with Go 1.24.6); validate image/tag updates and any organization
        policies around runtime/library changes.]
    features: ['Modernized file system backup (fs-backup) to a micro-service architecture,
        enabling concurrency controls, cancel/resume, and improved robustness across
        node-agent restarts.', 'fs-backup now supports Windows workloads by allowing
        data mover pods to run on Windows nodes, completing Windows backup/restore
        coverage alongside CSI snapshot data movement.', 'Volume Group Snapshots support
        for CSI snapshot backups and CSI snapshot data movement, providing write-order
        consistency across multiple related volumes.', 'PriorityClass support across
        Velero components (server, node-agent, data movers, and maintenance jobs)
        so you can control scheduling priority during contention.', 'Scalability/resiliency
        improvements for data movers: throttling pod creation via `PrepareQueueLength`,
        and automatic resume/cancel handling after node-agent restarts.', Enhanced
        node selection for CSI snapshot data movement restores (parity with backup)
        including per-storage-class node selection., Resource policy now supports
        reusable include/exclude filters via `includeExcludePolicy` in addition to
        `volumePolicy`.]
    breaking_changes: ['Restic path for creating new fs-backups is removed: `--uploader-type=restic`
        is no longer valid. You can still restore from existing Restic-based backups
        until v1.19, but you must migrate new backups to the supported uploader path
        (e.g., Kopia).', Velero server flags for repository maintenance job configuration
        were removed and must not be passed anymore; maintenance job settings are
        now configured via a ConfigMap.]
  chart_version: 11.2.0
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.17.1']
- version: 1.17.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: ['Velero fs-backup is re-architected to a micro-service model (VGDP
        micro-services), improving robustness (resume on restart), adding cancellation/resume/concurrency
        controls, and smoothing node-agent resource usage.', 'fs-backup now supports
        Windows workloads (data mover pods can run on Windows nodes), completing Windows
        backup/restore coverage when combined with 1.16 CSI snapshot data movement
        for Windows.', 'Adds support for Kubernetes VolumeGroupSnapshot (beta upstream)
        for both CSI snapshot backups and CSI snapshot data movement, enabling crash-consistent
        point-in-time snapshots across multiple volumes.', 'Adds PriorityClass support
        across Velero components (server, node-agent, data mover pods, repo maintenance
        jobs).', 'Data mover scalability/resiliency improvements: prepare-queue to
        limit pending data mover pods, resume/cancel behavior across node-agent restarts,
        and enhanced node selection (including per-storage-class node selection) for
        CSI snapshot data movement restores.', 'Resource policy enhancements: introduce
        reusable include/exclude policy alongside volumePolicy.', 'Operational/security/UX
        improvements: BSL availability metric, stricter configmap parameter validation,
        imagePullSecrets inheritance for data mover/maintenance jobs, and tightened
        permissions for mounted cloud credentials.']
    features: ['Modernized fs-backup to a micro-service architecture, enabling concurrency
        control plus cancel/resume and making operations resilient to node-agent restarts.',
      fs-backup can now back up and restore Windows workloads by scheduling data mover
        pods onto Windows nodes., Support for Kubernetes VolumeGroupSnapshot for consistent
        point-in-time snapshots across multiple correlated volumes., 'PriorityClass
        support across Velero server, node-agent, data movers, and repository maintenance
        jobs for better scheduling under contention.', 'New node-agent PrepareQueueLength
        to prevent creating excessive pending data mover pods in large clusters, reducing
        resource pressure.', Resource policies can now define reusable include/exclude
        filters (includeExcludePolicy) in addition to volume policies.]
    breaking_changes: ['Restic-based fs-backup is removed: `--uploader-type=restic`
        is no longer a valid install/config option; you can still restore older restic-created
        backups until v1.19.', 'Repository maintenance job tuning flags are removed
        from the Velero server (`--keep-latest-maintenance-jobs`, `--maintenance-job-*-request/limit`);
        configuration must be provided via the repository maintenance job ConfigMap.',
      'PVC restore behavior change: the `selected-node` annotation is now always removed
        during PVC restore when no node mapping exists (previously it might be preserved
        if the node existed).']
  chart_version: 11.2.0
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.17.1']
- version: 1.16.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: ["No Helm chart changelog was provided in the notes you pasted,\
        \ so this summary focuses on Velero application/runtime changes. If you are\
        \ using the Velero Helm chart, still review the chart\u2019s CHANGELOG/values.yaml\
        \ between the chart versions that map to Velero v1.15.x \u2192 v1.16.0, especially\
        \ for new configMaps and new server flags described below."]
    features: ['Windows cluster support: Velero can run in hybrid Linux/Windows clusters
        and back up/restore Windows workloads; node-agent, data mover pods, and maintenance
        jobs can be scheduled onto Windows nodes where appropriate (fs-backup remains
        Linux-only).', 'Parallel ItemBlock backups: Velero can now process item blocks
        concurrently, improving backup throughput; parallelism is controlled via the
        new server flag --item-block-worker-count (default 1).', 'Data mover restore
        scalability: option to spread restores for WaitForFirstConsumer volumes across
        nodes using new node-agent config flag ignoreDelayBinding.', 'Improved data
        mover observability: additional diagnostic logging for failures and cleanup
        problems is emitted in node-agent logs automatically.', 'CSI snapshot usability
        improvement: unnecessary VolumeSnapshotContent objects are no longer retained
        in backups, reducing cross-cluster sync/restore noise.', 'Backup repository
        maintenance improvements: maintenance history added to BackupRepository status
        (RecentMaintenance), restart resiliency for in-flight jobs, readOnly BSL protections,
        and configurable kopia fullMaintenanceInterval (normalGC/fastGC/eagerGC).',
      'VolumePolicy enhancement: can filter volumes by PVC labels.', 'Object-level
        resource status restore: per-object control via annotation velero.io/restore-status.',
      'Velero restore-helper binaries consolidated: velero, velero-helper, and velero-restore-helper
        are included in a single Velero image.']
    breaking_changes: ['Operational behavior change: backups now exclude retained
        VolumeSnapshotContent objects, which may change expectations if you relied
        on those objects being present/synced/restored.', New default behavior is
        still single-threaded for ItemBlock backups unless you set --item-block-worker-count
        > 1; enabling parallelism can change load patterns on the API server and plugins
        and may require tuning resources/QPS/burst.]
  chart_version: 10.1.3
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.16.2']
- version: 1.15.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: ['Data mover micro service: CSI Snapshot Data Movement now runs data
        transfer in dedicated backup/restore pods instead of node-agent pods, improving
        isolation, resilience, and allowing per-job CPU/memory tuning.', "New \u201C\
        Item Block\u201D concept plus ItemBlockAction (IBA) plugin type to categorize\
        \ related resources for future concurrent backups (single-threaded processing\
        \ only in 1.15).", Repository maintenance jobs can be steered to specific
        nodes via a new repository maintenance configuration ConfigMap., 'Data mover
        backup PVC configuration via ConfigMap: support read-only mounts (can speed
        up expose on some storage like Ceph) and ability to choose a different StorageClass
        for backupPVCs.', Backup repository cache limit configuration via a new backup
        repository configuration ConfigMap to prevent pods from exhausting ephemeral
        storage., 'Performance improvements: fixes plugin-call memory leak, passes
        client QPS/burst to plugins automatically, and reduces memory usage during
        Kopia maintenance in large repos.']
    breaking_changes: [Restic-based filesystem backup/restore path is deprecated starting
        in 1.15; backups/restores still succeed but will emit warnings when restic
        uploader/path is used., Node-agent configuration ConfigMap name is no longer
        fixed; if you use a node-agent config ConfigMap you must ensure Velero is
        told the name via the `node-agent-configmap` server parameter., Repository
        maintenance job flags are effectively moving from Velero server args to a
        repository maintenance ConfigMap (ConfigMap values take precedence); legacy
        flags still work but are discouraged., Changing PVC selected-node during restore
        is deprecated and will be removed in a future release.]
  chart_version: 8.7.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.15.2']
- version: 1.14.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: ['If you previously installed the CSI plugin via `velero install
        --plugins ...`, remove it for v1.14 because CSI is now an internal plugin
        installed by default.', Node-agent default CPU/memory requests/limits were
        removed; node-agent pods will run as BestEffort unless you set explicit resources
        in your Helm values., Repository maintenance for kopia/restic is moved out
        of the velero server pod into Kubernetes Jobs; ensure your chart version supports
        configuring these job resources (requests/limits) and that your cluster policies
        allow creating/running Jobs.]
    features: ['Repository maintenance (kopia/restic) now runs in separate Kubernetes
        Jobs to reduce velero server pod memory spikes/OOM risk, and lets you size
        resources for maintenance separately.', 'VolumePolicies now support actions
        (e.g., `fs-backup` vs `snapshot`) so you can control per-volume backup method
        without changing workloads.', Data mover (data movement) backup can be constrained
        to eligible nodes via a ConfigMap-based node selection mechanism., Restore
        operations persist VolumeInfo metadata (similar to backup VolumeInfo in 1.13)
        and `velero restore describe` shows richer volume restore details., 'Restores
        gain a new `Finalizing` phase to fix ordering issues (e.g., PV label restoration
        after snapshot data restore, and post-restore hooks after data movement completion).',
      'Azure gains certificate-based service principal auth support, in addition to
        secret/password auth.']
    breaking_changes: [CSI plugin is merged into the Velero repo and is installed
        by default as an internal plugin in v1.14; do not install it via the `--plugins`
        install/Helm plugin list anymore., 'Default resource requests/limits for node-agent
        were removed; if you relied on them for scheduling or to avoid BestEffort
        QoS/evictions, you must set explicit resources yourself.', 'Backup namespace
        filtering changes when `includedNamespaces`/`excludedNamespaces` are unset
        but `labelSelector`/`orLabelSelectors` are set: v1.14 backs up only namespaces
        containing matching resources (previously included all namespaces).', 'With
        the new restore `Finalizing` behavior, patching PVs may cause restores to
        end in `PartiallyFailed` when PVs are stuck `Pending`, whereas earlier versions
        might report `Complete`.']
  chart_version: 7.2.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.14.1']
- version: 1.13.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: ['Resource Modifiers now support JSON Merge Patch and Strategic Merge
        Patch in addition to JSON Patch, enabling more flexible restore-time mutations
        using the same ConfigMap rules.', 'Node-agent supports configurable concurrency
        (global and per-node) for data-movement workloads (fs-backups and CSI snapshot
        data movement), allowing better control of CPU/memory/network usage.', 'Kopia
        parallel file upload settings are now configurable, improving backup/data-movement
        throughput for filesystem backups and CSI snapshot data movement.', 'Restores
        can optionally write sparse files for fs-restore and CSI snapshot data movement
        restores, reducing space/time for sparse data.', '`velero backup describe`
        now includes a Backup Volumes section covering native snapshots, fs-backups,
        CSI snapshots, and CSI snapshot data movement; it also always shows CSI volume
        info regardless of the client-side EnableCSI feature gate.', 'Backups now
        include a new `VolumeInfo` metadata file (per-backup directory) summarizing
        PVC/PV backup method, snapshot info, and status, and guiding PV restore behavior.',
      'Improved resiliency for CSI snapshot data movement when Velero server pods
        or node-agents restart, reducing chances of stuck or interrupted operations.',
      Backup/Restore CRs now record hook execution status (HooksAttempted/HooksFailed)
        and `describe` output surfaces these counts., 'AWS SDK for Go has been bumped
        to v2, improving CPU/memory efficiency for AWS interactions.', Azure AD/Workload
        Identity support is extended to Kopia operations (filesystem backup/data mover)
        on Azure/AKS., 'Runtime/dependency updates: Go 1.21.6 and Kopia 0.15.0, plus
        assorted library bumps for CVEs. ']
    breaking_changes: ['`velero backup describe` output format changed: several fields
        moved under the new Backup Volumes section, which may break scripts that parse
        the old output.', 'API type change: `DataUploadSpec.DataMoverConfig` changed
        from `*map[string][string]` to `map[string]string` (affects any code/plugins
        interacting with this API).', '`velero install` behavior change: informer
        cache is now enabled by default (previously disabled), which can increase
        memory usage and may require adjusting resource limits or explicitly disabling
        it.']
  chart_version: 6.7.0
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.13.2']
- version: 1.12.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: '- **Helm chart v4.0.0 breaking change (required before/at upgrade):**
      `configuration.backupStorageLocation` (BSL) and `configuration.volumeSnapshotLocation`
      (VSL) changed **from a map/object to a list/slice** to support **multiple**
      BSL/VSL. This is **not backward compatible**, so you should convert your existing
      single BSL/VSL config into a 1-item list prior to upgrading.

      - **Uploader default changed:** If you previously relied on the default `uploader-type`
      (restic), note that v1.12 defaults to **kopia**. In Helm, ensure your values
      explicitly set the uploader you want (or prepare to migrate operationally to
      kopia).

      '
    chart_updates: [Supports multiple BackupStorageLocations and VolumeSnapshotLocations
        (BSL/VSL) via list/slice values; requires values migration from map to slice.,
      Upgrade introduces/relies on new Velero CR finalizers (restore/dataupload/datadownload)
        which can affect uninstall/namespace deletion behavior (operational impact
        for the chart lifecycle).]
    features: ['CSI Snapshot Data Movement: can move CSI snapshot data into durable
        backup storage for long-term retention and cross-environment/cloud restores.',
      'Resource Modifiers (JSON substitutions): apply JSON patches to selected resources
        during restore without writing a custom RestoreItemAction plugin.', 'Multiple
        VolumeSnapshotClasses: choose a specific VolumeSnapshotClass per backup instead
        of relying on label/driver-name selection.', 'Restore finalizer: `velero restore
        delete` now cleans up associated data in the backup storage location, not
        just the Kubernetes Restore object.', 'Dependency/runtime refresh: Go 1.20.7
        and Kopia v0.13 (plus other library bumps), with various robustness, metrics,
        and controller improvements.']
    breaking_changes: ['Default uploader-type changes from **restic** to **kopia**;
        if you depend on restic behavior/performance, explicitly configure it or validate
        kopia in your environment first.', 'CSI snapshot timing semantics changed:
        snapshot handle sync wait is now `backup.spec.csiSnapshotTimeout` (instead
        of fixed 10m), and async wait for VolumeSnapshot/Content `ReadyToUse` uses
        the operation timeout (default 4h).', "Helm chart v4.0.0 changes BSL/VSL values\
        \ from map to slice to support multiple locations; not backward compatible\u2014\
        must migrate values before upgrade.", Finalizers added to Velero CRs (restore/dataupload/datadownload)
        can cause **namespace deletion to hang** if you delete the namespace directly;
        use `velero uninstall` or remove/finalize resources properly before deleting
        the namespace.]
  chart_version: 5.2.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.12.3']
- version: 1.11.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary: null
  chart_version: 5.0.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.11.1']
- version: 1.10.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
- version: 1.9.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
- version: 1.8.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
