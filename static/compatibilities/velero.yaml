icon: https://velero.io/img/Velero.svg
git_url: https://github.com/vmware-tanzu/velero
release_url: https://github.com/vmware-tanzu/velero/releases/tag/v{vsn}
helm_repository_url: https://vmware-tanzu.github.io/helm-charts
versions:
- version: 1.17.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: ['Modernized fs-backup to a micro-service architecture, adding better
        concurrency control, cancel/resume behavior, and improved robustness across
        node-agent restarts.', fs-backup now supports Windows workloads (backup/restore
        on Windows nodes) using the new micro-service architecture., 'Added support
        for Kubernetes Volume Group Snapshots (beta upstream) for CSI snapshot backups
        and CSI snapshot data movement, enabling point-in-time consistency across
        multiple volumes.', 'Added PriorityClass support across Velero components
        (server, node-agent, data mover pods, and repository maintenance jobs).',
      'Improved data mover scalability and resiliency: configurable PrepareQueueLength
        to avoid creating too many Pending pods; better restart/resume/cancel handling;
        restore node-selection and per-storage-class node-selection.', Added reusable
        resource policy include/exclude filters via includeExcludePolicy in the resource
        policy configmap.]
    breaking_changes: ['Restic-based fs-backup path is removed in v1.17: --uploader-type=restic
        is no longer a valid install configuration (restores from existing restic
        backups are supported until v1.19).', 'Repository maintenance job settings
        were removed from Velero server flags and must be configured via the repository
        maintenance job ConfigMap instead (flags removed: --keep-latest-maintenance-jobs,
        --maintenance-job-*-request/limit).']
  chart_version: 11.2.0
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.17.1']
- version: 1.17.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: '### Helm values / install-arg changes to check


      **1) Restic uploader removed**

      - Velero 1.17 removes *creating new* fs-backups via Restic. The install/server
      option `--uploader-type=restic` is no longer valid.

      - If your Helm chart exposes this as a value (often something like `configuration.uploaderType`,
      `uploaderType`, `deployRestic`, or `features.enableRestic`), remove/disable
      it.

      - Existing Restic-based backups can still be **restored** until v1.19.


      **2) Repository maintenance job flags removed from server args**

      The following Velero server CLI flags are removed in v1.17 (so any Helm values
      that add them to `server.extraArgs` / `configuration.extraArgs` must be deleted):

      - `--keep-latest-maintenance-jobs`

      - `--maintenance-job-cpu-request`

      - `--maintenance-job-mem-request`

      - `--maintenance-job-cpu-limit`

      - `--maintenance-job-mem-limit`


      These settings are now expected to come from a **repository maintenance job
      ConfigMap** (chart typically manages this as a ConfigMap template/values).


      **3) PriorityClass configuration now possible (optional)**

      - v1.17 adds PriorityClass support for *server, node-agent, data mover pods,
      and maintenance jobs* separately.

      - If you need this, look for chart values like `priorityClassName` or per-component
      priority class knobs; otherwise no change required.


      **4) Node-agent config additions worth reviewing**

      - New `PrepareQueueLength` (node-agent config) to throttle data mover pod creation.

      - If your chart renders the node-agent config (ConfigMap), consider setting
      this for large clusters.


      **5) Windows scheduling/tolerations**

      - v1.17 adds `os=windows:NoSchedule` toleration for Windows pods (generally
      positive, but if you have strict scheduling policies, verify chart tolerations/affinity
      still match expectations).

      '
    chart_updates: [fs-backup (file system backup) has been re-architected to a micro-service
        model in 1.17; expect different data mover pod behavior and improved resiliency/concurrency
        characteristics during backups/restores., Repository maintenance configuration
        moved out of Velero server flags into a ConfigMap-driven approach; ensure
        the chart is rendering/creating the appropriate ConfigMap and you are not
        relying on removed server args., Additional scheduling controls are now available
        (PriorityClass support across modules; enhanced node selection for data mover
        pods including per-storage-class selection)., Kopia dependency bumps to v0.21.1
        (and Velero built with Go 1.24.6); validate image/tag updates and any organization
        policies around runtime/library changes.]
    features: ['Modernized file system backup (fs-backup) to a micro-service architecture,
        enabling concurrency controls, cancel/resume, and improved robustness across
        node-agent restarts.', 'fs-backup now supports Windows workloads by allowing
        data mover pods to run on Windows nodes, completing Windows backup/restore
        coverage alongside CSI snapshot data movement.', 'Volume Group Snapshots support
        for CSI snapshot backups and CSI snapshot data movement, providing write-order
        consistency across multiple related volumes.', 'PriorityClass support across
        Velero components (server, node-agent, data movers, and maintenance jobs)
        so you can control scheduling priority during contention.', 'Scalability/resiliency
        improvements for data movers: throttling pod creation via `PrepareQueueLength`,
        and automatic resume/cancel handling after node-agent restarts.', Enhanced
        node selection for CSI snapshot data movement restores (parity with backup)
        including per-storage-class node selection., Resource policy now supports
        reusable include/exclude filters via `includeExcludePolicy` in addition to
        `volumePolicy`.]
    breaking_changes: ['Restic path for creating new fs-backups is removed: `--uploader-type=restic`
        is no longer valid. You can still restore from existing Restic-based backups
        until v1.19, but you must migrate new backups to the supported uploader path
        (e.g., Kopia).', Velero server flags for repository maintenance job configuration
        were removed and must not be passed anymore; maintenance job settings are
        now configured via a ConfigMap.]
  chart_version: 11.2.0
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.17.1']
- version: 1.16.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: [Windows cluster support (hybrid/multi-arch build and scheduling Velero
        components onto Windows nodes) enabling backup/restore of Windows workloads
        with the built-in data mover., Parallel ItemBlock backups via a thread pool
        to improve backup throughput; configurable with the new server flag `--item-block-worker-count`
        (default 1)., Data mover restore scalability improvement for WaitForFirstConsumer
        volumes via node-agent setting `ignoreDelayBinding` to spread restores across
        nodes., Improved observability for data mover backup/restore and cleanup with
        additional status/error logging in node-agent logs (enabled by default).,
      'CSI snapshot usability improvement: stop retaining/restoring unnecessary `VolumeSnapshotContent`
        objects in backups.', 'BackupRepository maintenance resiliency/observability:
        `RecentMaintenance` history in BackupRepository CR, maintenance job recapture
        after server restart, and more robust behavior for readOnly BSLs.', 'Volume
        Policy enhancement: filter volumes by PVC labels (in addition to prior criteria).',
      Per-object resource status restore control via annotation `velero.io/restore-status`.,
      'Velero restore-helper binaries are now included in the main `velero/velero`
        image (single image contains velero, velero-helper, velero-restore-helper).']
    breaking_changes: [Restic deprecation continues from 1.15; if your fs-backup path
        still uses Restic you will see warnings and should plan migration to the supported
        uploader path., "If you relied on the old \u201CChanging PVC selected-node\u201D\
        \ restore behavior, it was deprecated in 1.15 and may be removed in a future\
        \ release; avoid depending on it going forward."]
  chart_version: 10.1.3
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.16.2']
- version: 1.15.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: [Update Velero image/tag to v1.15.0 (Golang 1.22.8)., 'If you use
        CSI snapshot data movement, expect data mover activities to run in dedicated
        backup/restore pods instead of node-agent pods (operational behavior change).',
      'New/updated ConfigMaps introduced for repository maintenance, backup PVC configuration,
        and backup repository cache configuration; you may need to manage these as
        new manifests/values in your Helm deployment.', Node-agent configMap name
        is now configurable and must be wired via server arg `--node-agent-configmap`
        if you are not using the default name.]
    features: ['Data mover microservice: CSI Snapshot Data Movement transfers are
        handled by dedicated backup/restore pods, improving security (no hostPath),
        resiliency, and per-operation resource control.', Item Block concepts and
        ItemBlockAction (IBA) plugin type introduced to categorize related resources
        for future multi-threaded backups; built-in IBAs for Pods and PVCs included.,
      Repository maintenance jobs can be scheduled onto selected nodes via a new repository
        maintenance configuration ConfigMap., 'Backup PVC configuration options added
        (read-only mount and storageClass selection) to optimize data movement, especially
        for some storage backends like Ceph.', Backup repository cache size per repository
        is configurable to avoid eviction due to ephemeral storage pressure., 'Performance
        fixes: server memory leak after plugin calls fixed; server client QPS/burst
        args are inherited by plugins; Kopia maintenance memory usage improved via
        upstream changes.']
    breaking_changes: ['Restic-based fs-backup is deprecated starting in 1.15: backups/restores
        still succeed but emit warnings when `--uploader-type=restic` is used or when
        the restic path is exercised.', Repository maintenance job settings are moving
        from server CLI flags to a repository maintenance job configuration ConfigMap;
        ConfigMap values take precedence when both are set., Node-agent configuration
        ConfigMap name is no longer fixed; you must set `--node-agent-configmap` if
        you customized the name., Changing PVC selected-node during restore is deprecated
        and will be removed in a future release; avoid relying on this behavior.]
  chart_version: 8.7.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.15.2']
- version: 1.14.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: ['Velero v1.14.0 application upgrade (container image `velero/velero:v1.14.0`).',
      CSI plugin code is now internal to Velero and expected to be installed by default;
        do not install it separately., Node-agent default resource requests/limits
        are removed (QoS becomes BestEffort unless you set resources explicitly).,
      Repository (kopia/restic) maintenance is moved out of the Velero server pod
        into a separate Kubernetes Job (to avoid server OOM).]
    features: [Moves kopia/restic repository maintenance out of the Velero server
        pod into a dedicated Job to reduce OOM risk; you can control resources for
        that job during install., Extends VolumePolicies to choose per-volume backup
        action (`fs-backup` vs `snapshot`) for finer-grained control without changing
        workloads., Adds node selection for data-mover pods via a ConfigMap so long-running/high-resource
        data movement can be constrained to eligible nodes., Persists VolumeInfo metadata
        for restores and enhances `velero restore describe` output accordingly., Introduces
        a Restore "Finalizing" phase so PV label patching and post-restore hooks happen
        after volume data movement completes., Adds Azure certificate-based auth for
        service principals as an alternative to client-secret auth.]
    breaking_changes: ['CSI plugin is merged into the core Velero repo and is installed
        by default; stop passing/installing the CSI plugin via `--plugins` (or equivalent
        Helm plugin lists), or you may end up with conflicts/duplicate behavior.',
      Default node-agent resource requests/limits are removed; clusters that relied
        on those defaults may see different scheduling/eviction behavior unless resources
        are explicitly set in Helm values., 'Namespace filtering behavior changes
        when `includedNamespaces`/`excludedNamespaces` are unset but `labelSelector`/`orLabelSelectors`
        are set: backups now include only namespaces containing matching resources
        (previously all namespaces were included).', "Restores may now end in `PartiallyFailed`\
        \ when PV patching in the new `Finalizing` phase can\u2019t proceed because\
        \ a PV is stuck `Pending`; previously the restore could report `Complete`\
        \ in similar situations."]
  chart_version: 7.2.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.14.1']
- version: 1.13.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: ['Resource Modifiers now support JSON Merge Patch and Strategic Merge
        Patch in addition to JSON Patch, allowing more flexible restore-time mutations
        using the same ConfigMap rules.', 'Node-agent concurrency is now configurable
        globally or per-node, letting you cap/scale parallel data-movement workloads
        (fs-backups and CSI snapshot data movement) to manage CPU/memory/network usage.',
      Kopia uploader now supports configurable parallel file upload settings to speed
        up fs-backups and CSI snapshot data movement., Restores can optionally write
        sparse files for fs-restore and CSI snapshot data movement to reduce disk
        usage and potentially improve performance., "`velero backup describe` now\
        \ includes a dedicated \u201CBackup Volumes\u201D section with richer details\
        \ for native snapshots, CSI snapshots, fs-backups, and CSI snapshot data movement.",
      'Backups now include a new VolumeInfo metadata file in the repository, recording
        PV/PVC volume method/snapshot/status and guiding PV restore behavior.', 'Improved
        resilience for CSI snapshot data movement when Velero server pods or node-agents
        restart, reducing the chance of stuck backup/restore workflows.', Backup/restore
        CR status now includes hook execution summary fields (HooksAttempted/HooksFailed)
        and they appear in describe output for better troubleshooting., AWS SDK upgraded
        to v2 for better CPU/memory performance., 'Azure AD/Workload Identity support
        now covers Kopia-based operations (filesystem backup/data mover), not just
        native snapshots.', 'Runtime/dependencies updated (Go 1.21.6, Kopia 0.15.0,
        and other library bumps) to address CVEs and keep current.']
    breaking_changes: ["`velero backup describe` output format changed: snapshot/fs-backup/CSI\
        \ info is reorganized into the new \u201CBackup Volumes\u201D section, which\
        \ may break scripts that parse the old output.", 'API change in v2alpha1 DataUploadSpec:
        `DataMoverConfig` changed from `*map[string][string]` to `map[string]string`,
        which can break clients/controllers that depend on the old type.', 'Installer
        behavior change: informer cache is now enabled by default (previously disabled),
        which can increase memory usage and potentially trigger OOM unless limits
        are raised or `--disable-informer-cache` is used.']
  chart_version: 6.7.0
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.13.2']
- version: 1.12.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: "### Helm chart changes to plan for\n\n* **Velero Helm chart v4.0.0\
      \ is a breaking change for values**: it adds support for **multiple BackupStorageLocations\
      \ (BSL)** and **VolumeSnapshotLocations (VSL)** and changes `configuration.backupStorageLocation`\
      \ and `configuration.volumeSnapshotLocation` from a **map/object** to a **list/slice**.\n\
      \  * Action: **convert your existing BSL/VSL values to list form before upgrading**.\n\
      \  * This is **not backward compatible**; if you upgrade the chart without changing\
      \ values, Helm rendering/Velero configuration will break.\n\n* **Uploader default\
      \ changes at the application level** (impacts how you set Helm values if you\
      \ previously relied on defaults): `uploader-type` default changes from **restic\
      \ \u2192 kopia** in Velero 1.12.\n  * Action: if you want to keep Restic for\
      \ filesystem backups, **explicitly set the uploader type to `restic`** in values/args;\
      \ otherwise validate Kopia prerequisites and behavior.\n\n* **Namespace deletion\
      \ behavior changes** due to new finalizers (application-level, but affects uninstall/Helm\
      \ teardown practices).\n  * Action: prefer `velero uninstall` (or remove CRs/finalizers\
      \ cleanly) rather than deleting the namespace directly."
    chart_updates: [Helm chart v4.0.0 introduces multi-BSL and multi-VSL support and
        changes the values schema (BSL/VSL become lists).]
    features: ['CSI Snapshot Data Movement: ability to move CSI snapshot data from
        production snapshot storage into durable backup storage and restore from there
        (enables long-term retention and cross-cloud/on-prem scenarios).', 'Resource
        Modifiers (JSON substitutions): apply JSON patch-style modifications to selected
        resources during restore without writing custom RestoreItemAction plugins.',
      'Multiple VolumeSnapshotClasses support in the CSI plugin: choose a specific
        VolumeSnapshotClass per backup instead of relying on a single labeled class.',
      'Restore finalizer: `velero restore delete` now cleans up associated external/remote
        restore data in the backup storage location rather than only deleting Kubernetes
        restore objects.', 'Dependency/runtime updates: Go runtime bumped to 1.20.7
        and Kopia bumped to 0.13.x (plus other dependency bumps).']
    breaking_changes: [Default `uploader-type` changes from `restic` to `kopia` starting
        in v1.12; filesystem backups will use Kopia unless you explicitly configure
        Restic., 'CSI snapshot timeout behavior changes: sync timeout for snapshot
        handle creation uses `backup.spec.csiSnapshotTimeout` (no longer fixed at
        10 minutes), and async readiness waits use the operation timeout (default
        4 hours).', Velero Helm chart v4.0.0 changes BSL/VSL config from map to list
        and is not backward compatible; update your Helm values before upgrading.,
      'New finalizers on Velero CRs (restore, dataupload, datadownload) can cause
        namespace deletion to hang if you delete the namespace directly; use `velero
        uninstall` or remove finalizers/resources cleanly first.']
  chart_version: 5.2.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.12.3']
- version: 1.11.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary: null
  chart_version: 5.0.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.11.1']
- version: 1.10.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
- version: 1.9.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
- version: 1.8.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
