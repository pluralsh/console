icon: https://velero.io/img/Velero.svg
git_url: https://github.com/vmware-tanzu/velero
release_url: https://github.com/vmware-tanzu/velero/releases/tag/v{vsn}
helm_repository_url: https://vmware-tanzu.github.io/helm-charts
versions:
- version: 1.17.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: "### Helm values / install-time changes to review\n\n- **Restic\
      \ uploader removed (breaking):** `--uploader-type=restic` is no longer valid\
      \ in v1.17. If your Helm chart exposes this (or equivalent values), remove/replace\
      \ it (use **kopia**/default fs-backup mechanisms). You can still **restore**\
      \ from legacy Restic-path backups until v1.19.\n- **Repository maintenance job\
      \ settings moved to a ConfigMap (breaking):** the following **Velero server\
      \ flags are removed** in v1.17, so any Helm values that set them must be deleted/migrated\
      \ to the **repo maintenance job ConfigMap**:\n  - `--keep-latest-maintenance-jobs`\n\
      \  - `--maintenance-job-cpu-request`\n  - `--maintenance-job-mem-request`\n\
      \  - `--maintenance-job-cpu-limit`\n  - `--maintenance-job-mem-limit`\n  v1.17\
      \ adds **ConfigMap support** for `keepLatestMaintenanceJobs` (with CLI parameter\
      \ fallback).\n- **New optional tuning knobs you may want to surface via values:**\n\
      \  - **fs-backup micro-service architecture** (behavior changes; check node-agent/data\
      \ mover resources and configs).\n  - **`PrepareQueueLength`** in **node-agent**\
      \ config to throttle data mover pod creation (prevents many Pending pods).\n\
      \  - **PriorityClass name support** for server, node-agent, data movers, and\
      \ maintenance jobs.\n  - **Node-selection for restore + per-storage-class node\
      \ selection** for CSI snapshot data movement.\n  - **Parameterized kubelet mount\
      \ path** for node-agent installation (if your distro uses a non-standard kubelet\
      \ root).\n"
    chart_updates: [Ensure Helm chart templates no longer set removed Velero server
        flags for repository maintenance jobs; instead template the new maintenance
        job ConfigMap., 'If your chart previously configured Restic as an uploader
        type, remove those options and update docs/values schema accordingly.', Consider
        adding values to set `priorityClassName` for each Velero component (server/node-agent/data
        movers/maintenance)., Consider adding values to manage node-agent `PrepareQueueLength`
        and CSI data-mover node selection (including per-storage-class rules)., 'If
        you run Windows nodes, validate chart tolerations/affinity: v1.17 adds `os=windows:NoSchedule`
        toleration and expands Windows fs-backup support; ensure node-agent/data mover
        scheduling rules match your cluster.', 'If your clusters use non-default kubelet
        paths, verify the chart can set the kubelet mount path for node-agent per
        the new parameterized support.']
    features: ['Modernized **fs-backup** to a micro-service architecture (better concurrency
        control, cancellation, and resiliency across restarts; steadier node-agent
        memory usage).', '**fs-backup now supports Windows workloads**, enabling full
        Windows backup/restore scenarios when combined with CSI snapshot data movement.',
      'Added **Volume Group Snapshot (VGS)** support for CSI snapshot backup and CSI
        snapshot data movement, enabling point-in-time consistency across multiple
        volumes.', 'Added **PriorityClass support** across Velero modules (server,
        node-agent, data movers, and maintenance jobs).', 'Data mover scalability/resiliency
        improvements: **PrepareQueueLength** throttling to avoid many Pending pods,
        and improved restart handling (resume/cancel appropriately).', 'Improved CSI
        snapshot data movement restore scheduling: restore now supports **node-selection**,
        including **per-storage-class node selection**.', Resource policies now support
        reusable **include/exclude filters** via `includeExcludePolicy` in addition
        to `volumePolicy`., 'Runtime bumps: Go **1.24.6** and Kopia **0.21.1**.']
    breaking_changes: ['**Restic deprecation/removal for fs-backup creation:** v1.17
        removes the ability to create backups using the Restic uploader (`--uploader-type=restic`
        invalid). Restores from existing Restic-path backups remain supported until
        v1.19.', '**Repository maintenance job config flags removed from the Velero
        server:** maintenance job retention and resource flags must be configured
        via the maintenance job ConfigMap; any Helm values/args that set these flags
        will break startup.', '**PVC restore behavior change:** Velero now always
        removes the `selected-node` annotation during PVC restore when no node mapping
        exists (previously it could be preserved if the node existed). This can affect
        scheduling outcomes in some restore workflows.']
  chart_version: 11.2.0
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.17.1']
- version: 1.17.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: ['Modernized fs-backup into a micro-service architecture, enabling concurrency
        control, cancel/resume, and resilience to node-agent restarts with steadier
        node-agent resource usage.', 'fs-backup now supports Windows workloads end-to-end
        by running data mover pods on Windows nodes, complementing the Windows CSI
        snapshot data movement added in 1.16.', 'Added Volume Group Snapshot support
        (Kubernetes beta) for CSI snapshot backups and CSI snapshot data movement
        to get point-in-time, write-order-consistent snapshots across multiple related
        volumes.', 'Added PriorityClass support so you can set pod priority separately
        for velero server, node-agent, data mover pods, and backup repository maintenance
        jobs.', 'Improved data mover scalability/resiliency: configurable node-agent
        PrepareQueueLength to throttle pending data mover pod creation, plus better
        restart handling (resume/cancel orphaned movements) and node-selection controls
        (including per storage class) for CSI snapshot data movement restores.', Extended
        resource policies with reusable include/exclude filters via includeExcludePolicy
        (in addition to volumePolicy).]
    breaking_changes: ['Restic uploader path removed in 1.17: --uploader-type=restic
        is no longer valid for new installs/backups; restores from existing restic-path
        backups remain supported only until v1.19.', 'Repository maintenance job settings
        were removed from velero server flags and must be configured via the repository
        maintenance job ConfigMap instead (removed flags: --keep-latest-maintenance-jobs,
        --maintenance-job-{cpu,mem}-{request,limit}).']
  chart_version: 11.2.0
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.17.1']
- version: 1.16.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: ["Windows cluster support: Velero components (node-agent, data mover,\
        \ maintenance jobs) can run on Windows nodes and Velero can back up/restore\
        \ Windows workloads; note fs-backup remains Linux-only and Windows security\
        \ descriptor/NTFS xattr restore isn\u2019t supported.", 'Parallel Item Block
        backup: item blocks (and their pre/post hooks) are now processed concurrently,
        configurable via the new server flag `--item-block-worker-count` (default
        1), improving backup throughput at scale.', 'Data mover restore scalability:
        new node-agent config option `ignoreDelayBinding` lets data mover restores
        for WaitForFirstConsumer volumes spread across nodes instead of being pinned
        to the attach node, improving parallelism and resource balancing.', 'Data
        mover observability: enhanced logging around intermediate object statuses
        on failures and errors during cleanup, enabled by default in node-agent logs.',
      'CSI snapshot usability improvement: removes unnecessary retained `VolumeSnapshotContent`
        objects from backups so they are not synced/restored across clusters sharing
        a BSL.', 'Backup repository maintenance resiliency/observability: `RecentMaintenance`
        history added to `BackupRepository` CRs, running maintenance jobs are recaptured
        after server restarts, maintenance/initialization is avoided for readOnly
        BSLs, and maintenance intervals become configurable via `fullMaintenanceInterval`
        (`normalGC`/`fastGC`/`eagerGC`).', 'Volume Policy enhancement: can now filter
        volumes by PVC labels.', 'Object-level resource status restore: per-object
        annotation `velero.io/restore-status` controls whether status is restored
        for that object.', 'Image packaging change: `velero`, `velero-helper`, and
        `velero-restore-helper` binaries are merged into the single Velero image (no
        separate restore-helper image).']
    breaking_changes: [Parallel item block processing may change performance characteristics
        and concurrency of pre/post hooks; review hook behavior if you relied on serial
        execution and consider setting `--item-block-worker-count=1` to preserve old
        behavior., "Windows support has functional limitations (no fs-backup on Windows;\
        \ no Security Descriptor/NTFS extended attributes restore), which can be effectively\
        \ \u201Cbreaking\u201D if you expected those features on Windows nodes."]
  chart_version: 10.1.3
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.16.2']
- version: 1.15.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: ['CSI Snapshot Data Movement now uses a data mover microservice: data
        transfer runs in dedicated backupPod/restorePod instead of node-agent, improving
        security (no hostPath), resource isolation, and resiliency.', 'Introduces
        Item Block concepts and the ItemBlockAction (IBA) plugin type to categorize
        correlated resources (e.g., Pods/PVCs) for future concurrent backups; v1.15
        supports the model/plugins but still processes single-threaded.', 'Repository
        maintenance jobs can be scheduled onto specific nodes via a new repository
        maintenance configuration ConfigMap, helping isolate CPU/memory-heavy maintenance
        from critical nodes.', Data mover backupPods can mount backupPVCs read-only
        (can significantly speed expose for some storage like Ceph) and can use a
        configurable StorageClass via a new backup PVC configuration ConfigMap., 'Adds
        per-repository client-side cache size control for repository operations via
        a new backup repository configuration ConfigMap, reducing risk of ephemeral-storage
        eviction.', 'Performance fixes: plugin-call memory leak fixed; velero client-qps/burst
        args are propagated to plugins; Kopia maintenance memory improvements included
        (kopia v0.17.0).']
    breaking_changes: ['Restic-based filesystem backup/restore enters deprecation
        starting in 1.15: backups/restores still succeed but emit warnings when using
        --uploader-type=restic or the Restic path; plan migration away from Restic.',
      'node-agent configuration ConfigMap name is no longer fixed; if you use a custom
        node-agent config, you must set the server flag --node-agent-configmap to
        the correct name.', Repository maintenance job tuning flags are effectively
        replaced by a repository maintenance job ConfigMap; the old server flags remain
        for backward compatibility but the ConfigMap takes precedence when both are
        set., Changing PVC selected-node on restore is deprecated and will be removed
        in a future release; avoid relying on it going forward.]
  chart_version: 8.7.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.15.2']
- version: 1.14.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: [Repository maintenance for kopia/restic repositories is offloaded to
        separate Kubernetes Jobs to reduce Velero server pod memory pressure and avoid
        OOMKills; users can size these jobs with resource requests during install/upgrade.,
      'VolumePolicies now support actions (e.g., "fs-backup" vs "snapshot") so you
        can control per-volume backup method without changing workloads; enables fine-grained
        opt-in/opt-out behavior.', 'Data movement backups can restrict where datamover
        pods run via a ConfigMap-based node selection mechanism, helping control resource-heavy
        pod placement.', 'Restore VolumeInfo metadata is now persisted (similar to
        backup VolumeInfo from 1.13) and surfaced in `velero restore describe`, improving
        visibility into how each restored volume was handled.', 'Restores gain a new
        "Finalizing" phase to apply PV label patching after data restore and to run
        post-restore hooks after data movement completes, fixing ordering issues.',
      'Azure authentication adds service principal certificate-based auth (phishing-resistant),
        alongside existing secret-based approaches.']
    breaking_changes: [CSI plugin is now merged into the Velero repo and installed
        by default as an internal plugin; do not install it via `--plugins` during
        `velero install`/Helm upgrade or you may get conflicts/duplication., 'Default
        CPU/memory requests and limits for the node-agent are removed, making node-agent
        pods BestEffort; clusters that relied on guaranteed/burstable QoS must explicitly
        set resources to avoid contention/evictions.', 'Namespace filtering behavior
        changes when `includedNamespaces`/`excludedNamespaces` are unset but (Or)LabelSelectors
        are set: Velero will include only namespaces containing matching resources,
        not all namespaces as before; backups may become narrower than intended.',
      'PV patching during the new restore "Finalizing" phase can cause restores to
        be marked PartiallyFailed if PVs are stuck Pending; previously the same scenario
        might have reported Complete, so alerting/automation may see more failures.']
  chart_version: 7.2.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.14.1']
- version: 1.13.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: [Resource Modifiers now support JSON Merge Patch and Strategic Merge
        Patch (in addition to JSON Patch) for more flexible restore-time mutations.,
      Configurable node-agent concurrency lets you cap data-movement workloads per
        node (globally or per-node) to better control CPU/memory/network usage., Kopia
        uploader supports configurable parallel file uploads to speed up filesystem
        backups and CSI snapshot data movement., Restores can optionally write sparse
        files for fs-restore and CSI snapshot data movement restores to reduce IO/storage
        impact., "`velero backup describe` now includes a dedicated \u201CBackup Volumes\u201D\
        \ section with details across native snapshots, fs-backups, CSI snapshots,\
        \ and CSI snapshot data movement.", 'Backups now write a new VolumeInfo metadata
        file into the backup repository capturing PV/PVC method/snapshot/status, used
        to drive PV restore decisions and provide volume summaries.', 'Improved resilience
        for CSI snapshot data movement when Velero server pods or node-agents restart,
        reducing stuck/interrupted operations.', Backup/Restore CR status now includes
        hook execution counts (HooksAttempted/HooksFailed) and `describe` displays
        them., AWS SDK for Go moved to v2 for better CPU/memory efficiency., Azure
        AD/Workload Identity support extended to Kopia operations (filesystem backups/data
        mover) in addition to prior Azure plugin improvements.]
    breaking_changes: ["`velero backup describe` output format changed: existing snapshot/fs-backup\
        \ details moved into the new \u201CBackup Volumes\u201D section, which may\
        \ break scripts that parse output.", 'API type change: `DataUploadSpec.DataMoverConfig`
        changed from `*map[string][string]` to `map[string]string` (client/codegen
        impacts).', '`velero install` now enables informer cache by default (previously
        effectively disabled); improves restore performance but may increase memory
        and can cause OOM unless limits are raised or cache is disabled.']
  chart_version: 6.7.0
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.13.2']
- version: 1.12.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: "### Helm chart changes to plan for (Velero chart v4.x)\n- **BackupStorageLocation\
      \ (BSL) and VolumeSnapshotLocation (VSL) values changed from a map to a slice\
      \ (list).** This is **not backward compatible**. Convert existing values **before**\
      \ upgrading the chart.\n  - Old style (map):\n    - `configuration.backupStorageLocation.<name>...`\n\
      \    - `configuration.volumeSnapshotLocation.<name>...`\n  - New style (slice):\n\
      \    - `configuration.backupStorageLocation: [{ name: \"default\", ... }]`\n\
      \    - `configuration.volumeSnapshotLocation: [{ name: \"default\", ... }]`\n\
      - Chart now supports **multiple** BSLs and VSLs; ensure your intended \u201C\
      default\u201D location is set appropriately and names are stable.\n"
    chart_updates: ["Helm chart v4.x introduces a non-backward-compatible schema change\
        \ for BSL/VSL configuration (map \u2192 list) to support multiple locations;\
        \ adjust `values.yaml` prior to upgrade."]
    features: ['CSI Snapshot Data Movement: back up CSI snapshot data into durable
        backup storage and restore across environments/clouds, enabling long-term
        retention and cross-cloud mobility.', 'Resource Modifiers (JSON substitutions):
        apply JSON patch-style modifications to selected resources during restore
        without writing a custom RestoreItemAction plugin.', 'Multiple VolumeSnapshotClasses
        support in the CSI plugin: pick a specific VolumeSnapshotClass per backup
        rather than relying on driver/label heuristics.', 'Restore finalizer: `velero
        restore delete` now cleans up associated external/backup-storage data, not
        just in-cluster restore objects.']
    breaking_changes: ['Default `uploader-type` changes from **restic** to **kopia**,
        which can change filesystem-backup behavior and performance/compatibility;
        pin the value if you need to stay on restic.', 'CSI snapshot timeout handling
        changes: snapshot creation wait is now `backup.spec.csiSnapshotTimeout` (instead
        of a fixed 10m) and async readiness waits use operation timeouts (default
        4h); review/override timeouts if you have slow snapshotting storage.', Helm
        chart v4.0.0 changes BSL/VSL configuration from map to slice (list); you must
        migrate values before upgrading., "Finalizers are added to Velero CRs (restore/dataupload/datadownload);\
        \ deleting the Velero namespace directly may hang\u2014use `velero uninstall`\
        \ or remove finalizers safely before namespace deletion."]
  chart_version: 5.2.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.12.3']
- version: 1.11.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary: null
  chart_version: 5.0.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.11.1']
- version: 1.10.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
- version: 1.9.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
- version: 1.8.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
