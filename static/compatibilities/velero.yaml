icon: https://velero.io/img/Velero.svg
git_url: https://github.com/vmware-tanzu/velero
release_url: https://github.com/vmware-tanzu/velero/releases/tag/v{vsn}
helm_repository_url: https://vmware-tanzu.github.io/helm-charts
versions:
- version: 1.17.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: ['Modernized file-system backup (fs-backup) to a micro-service architecture,
        improving robustness and adding capabilities like concurrency control, cancel,
        and resume after restarts.', File-system backup now supports Windows clusters
        by running data mover pods on Windows nodes for backup/restore of Windows
        volumes., 'Added (beta) support for Kubernetes VolumeGroupSnapshot for CSI
        snapshot backups and CSI snapshot data movement to provide crash-consistent,
        write-order-consistent multi-volume snapshots.', 'PriorityClass is now supported
        across Velero components (server, node-agent, data movers, repository maintenance
        jobs) for better scheduling control.', 'Data mover scalability/resiliency
        improvements: throttling creation of data mover pods via node-agent PrepareQueueLength,
        better restart survivability, and restore node-selection (including per StorageClass).',
      Resource policies now support reusable include/exclude filtering via includeExcludePolicy
        in addition to volumePolicy.]
    breaking_changes: ['Restic fs-backup is removed in v1.17: --uploader-type=restic
        is no longer a valid install option; restores from older restic backups are
        supported only until v1.19.', Repository maintenance job settings were removed
        from Velero server flags; the related parameters must now be configured via
        a repository maintenance job ConfigMap (server flags like --keep-latest-maintenance-jobs
        and maintenance job CPU/memory request/limit flags no longer exist)., 'PVC
        restore behavior change: selected-node annotation is always removed when no
        node mapping exists; previously it could be preserved if the node existed.']
  chart_version: 11.3.2
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.17.1']
- version: 1.17.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: "## Helm values / install-time config changes to check\n\n### 1)\
      \ **Restic uploader removed (breaking)**\n* `--uploader-type=restic` is **no\
      \ longer valid** in v1.17.\n  * If your Helm chart values set anything equivalent\
      \ (commonly `configuration.uploaderType`, `uploaderType`, `deployRestic`, `deployNodeAgent`/`restic`\
      \ toggles, etc.), remove/disable Restic and use the current fs-backup path.\n\
      \  * You can **still restore old Restic-based backups until v1.19**, but you\
      \ cannot create new ones.\n\n### 2) **Repository maintenance job flags removed\
      \ from velero server (breaking)**\nThe following server parameters were removed\
      \ and must be configured via the **repository maintenance job ConfigMap** instead:\n\
      * `--keep-latest-maintenance-jobs`\n* `--maintenance-job-cpu-request`\n* `--maintenance-job-mem-request`\n\
      * `--maintenance-job-cpu-limit`\n* `--maintenance-job-mem-limit`\n\nIf you previously\
      \ set these via chart values that map to `server.extraArgs`, move them to the\
      \ chart\u2019s maintenance-job configmap values (name varies by chart).\n\n\
      ### 3) New/updated **node-agent** configuration knobs worth reviewing\nThese\
      \ are additive but may require Helm values if you want to use them:\n* `PrepareQueueLength`\
      \ (node-agent): throttles creation of data mover pods to avoid large numbers\
      \ stuck Pending.\n* `priorityClassName` support across modules (server, node-agent,\
      \ data mover pods, maintenance jobs): you may want to set these explicitly.\n\
      * Parameterized kubelet mount path for node-agent install (only if you run non-standard\
      \ kubelet paths).\n\n### 4) Modernized fs-backup (architecture change)\nfs-backup\
      \ is now micro-service based. In Helm terms this may translate into:\n* more/changed\
      \ pod templates for data mover / fs-backup components,\n* potential new configmaps/args\
      \ for concurrency/cancel/resume behavior.\n\n(Exact value keys depend on your\
      \ chart; validate rendered manifests before applying.)"
    chart_updates: ['fs-backup moved to a micro-service architecture (better concurrency
        control, cancel/resume, and resiliency across node-agent restarts).', 'Windows
        support expands: fs-backup now supports Windows workloads; data mover pods
        can run on Windows nodes with required tolerations.', Volume Group Snapshots
        support added (Kubernetes beta feature) for CSI snapshot backup and CSI snapshot
        data movement., 'PriorityClass support added across Velero components (server,
        node-agent, data mover pods, maintenance jobs).', 'Data mover scalability
        improvements: throttled pod creation via node-agent `PrepareQueueLength`,
        improved restart/orphan handling, expanded node-selection for restore and
        per-storageclass node-selection.', Resource policy enhanced with reusable
        include/exclude filters via `includeExcludePolicy`., 'Operational changes:
        repository maintenance job configuration moved from server flags to a ConfigMap;
        additional config validation added for install CLI and server start.']
    features: [Modernized fs-backup into a micro-service architecture with concurrency
        control plus cancel/resume and improved resiliency across node-agent restarts.,
      'fs-backup now supports Windows workloads, enabling full Windows backup/restore
        scenarios (with CSI data movement support introduced earlier).', Adds support
        for Kubernetes Volume Group Snapshots to take point-in-time consistent snapshots
        across multiple related volumes., 'Adds PriorityClass support so you can control
        scheduling priority for server, node-agent, data movers, and maintenance jobs.',
      'Improves data mover scalability with a node-agent prepare queue to avoid flooding
        the cluster with Pending pods, plus better restart/orphan handling and node-selection
        (including per-storageclass).', Adds reusable resource include/exclude filtering
        via `includeExcludePolicy` in resource policies.]
    breaking_changes: ["Restic uploader path is removed: `--uploader-type=restic`\
        \ is no longer a valid install configuration; you can\u2019t create new Restic-based\
        \ backups (restores remain supported until v1.19).", Repository maintenance
        job settings are no longer configured via Velero server flags; the maintenance
        job CPU/memory and keep-latest settings must be moved to the repository maintenance
        job ConfigMap., 'PVC restore behavior change: selected-node annotation is
        now removed during PVC restore when no node mapping exists (previously it
        could be preserved in some cases).']
  chart_version: 11.2.0
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.17.1']
- version: 1.16.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: ['Windows cluster support: Velero can run in hybrid Linux/Windows clusters;
        node-agent, data mover pods, and maintenance jobs can schedule onto Windows
        nodes, and the built-in data mover supports Windows workloads end-to-end (with
        noted limitations).', 'Parallel Item Block backups: item blocks (and their
        pre/post hooks) can now be processed concurrently via a configurable worker
        pool using the new `--item-block-worker-count` server flag (default 1).',
      'Data mover restore scalability: restores for WaitForFirstConsumer volumes can
        be distributed evenly across nodes using the new `ignoreDelayBinding` option
        in the node-agent configuration, improving parallelism and resource balance.',
      'Improved data mover observability: additional status/error logging for intermediate
        objects and cleanup failures is emitted automatically in node-agent logs.',
      'CSI snapshot usability improvement: Velero no longer retains unnecessary VolumeSnapshotContent
        objects in backups, reducing sync/restore noise in multi-cluster BSL scenarios.',
      'Backup repository maintenance improvements: BackupRepository now records `RecentMaintenance`
        history; running maintenance jobs are recaptured after server restart; maintenance/init
        is skipped for readOnly BSLs; maintenance cadence is configurable via `fullMaintenanceInterval`
        (normalGC/fastGC/eagerGC).', 'Volume Policy enhancement: policies can filter
        volumes by PVC labels.', 'Per-object resource status restore control: objects
        can opt in/out of status restoration via the `velero.io/restore-status` annotation.',
      'Velero restore helper binaries consolidated: `velero`, `velero-helper`, and
        `velero-restore-helper` are shipped in the single Velero image in 1.16.']
    breaking_changes: ['Restic was already in deprecation starting 1.15; for teams
        still using `--uploader-type=restic`, expect warnings and plan migration off
        restic for filesystem backups as it will be removed in a future release (not
        removed yet in 1.16 per provided notes).', 'Operational change: enabling parallel
        Item Block backups may increase API/server load and change hook execution
        concurrency; review hook assumptions and consider setting `--item-block-worker-count`
        explicitly to control concurrency.']
  chart_version: 10.1.3
  images: ['docker.io/bitnamilegacy/kubectl:1.35', 'velero/velero:v1.16.2']
- version: 1.15.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: ['Data mover micro service: CSI snapshot data movement now runs in dedicated
        backupPods/restorePods instead of node-agent hostPath-based pods, improving
        security isolation, per-job resource control, and failure isolation.', 'Item
        Block concept and ItemBlockAction (IBA) plugin: introduces grouping related
        resources into item blocks as a foundation for future multi-threaded backups;
        Velero ships built-in IBAs for Pods and PVCs and supports custom IBAs.', 'Node
        selection for repository maintenance jobs: new configMap to steer maintenance
        jobs onto specific/idle nodes and away from critical workload nodes.', 'Backup
        PVC configuration for data mover: new configMap supports read-only mounts
        (faster expose for some storage like Ceph) and selecting a separate storageClass
        for backup PVCs.', 'Backup repository cache configuration: new configMap to
        cap client-side cache size per repository to avoid ephemeral-storage eviction.',
      'Performance improvements: fixes a post-plugin-call memory leak, passes client-qps/burst
        to plugins automatically, and includes Kopia upstream improvements to reduce
        memory usage during maintenance.']
    breaking_changes: [Restic uploader path is deprecated starting in 1.15; backups/restores
        still work but emit warnings when installing with --uploader-type=restic or
        using the restic fs-backup path., node-agent configuration configMap name
        is no longer fixed; if you use a custom configMap you must pass its name via
        the node-agent server parameter node-agent-configmap., Repository maintenance
        job tuning flags are effectively superseded by the new repository maintenance
        configMap; existing server flags still work for compatibility but configMap
        values take precedence., 'The "Changing PVC selected-node" feature is deprecated
        in 1.15 and will be removed in a future release, so new usage is not recommended.']
  chart_version: 8.7.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.15.2']
- version: 1.14.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: []
    features: [Repository maintenance for Kopia/Restic is moved out of the Velero
        server pod into a separate Kubernetes Job to reduce Velero pod memory pressure/OOM
        risk; resource requests can be configured at install time., "VolumePolicy\
        \ is extended beyond \u201Cskip\u201D to allow per-volume backup actions (`fs-backup`\
        \ or `snapshot`), enabling opt-in/out behavior without modifying workloads.",
      'Data mover (data movement) pods can now be scheduled only onto eligible nodes
        defined via a ConfigMap, giving control over where heavy backup/restore workloads
        run.', Restore operations now persist VolumeInfo metadata (similar to backup
        VolumeInfo) and `velero restore describe` shows more detail about restored
        volumes., Restores gain a new `Finalizing` phase so PV label patching and
        post-restore hooks can occur after snapshot restore/data movement completes.,
      'Azure plugin supports certificate-based Service Principal authentication in
        addition to secret-based auth, improving security and enabling conditional
        access policies.']
    breaking_changes: [CSI plugin is now merged into the main Velero repo and is installed
        by default as an internal plugin; do not install it via `velero install --plugins
        ...` anymore., 'Default resource requests/limits for the node-agent are removed,
        making node-agent pods `BestEffort`; you may need to set your own requests/limits
        if you relied on the old defaults.', 'Namespace filtering behavior changes
        when `includedNamespaces`/`excludedNamespaces` are unset but `labelSelector`/`orLabelSelectors`
        are set: only namespaces containing matching resources are included (previously
        all namespaces were included).', 'In restores, patching PVs during the new
        `Finalizing` phase can cause restores to end as `PartiallyFailed` if a PV
        is blocked in `Pending`, whereas older versions could report `Complete` in
        this situation.']
  chart_version: 7.2.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.14.1']
- version: 1.13.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: ''
    chart_updates: ['Velero `install` behavior change: informer cache is now **enabled
        by default** (previously disabled). This can increase memory usage; plan to
        adjust Velero pod resources or explicitly disable with `--disable-informer-cache`
        if you see OOMs.', 'CLI/API surface changes: `velero backup describe` output
        format changed (volume-related info moved into a new **Backup Volumes** section),
        which may break any scripts that parse output.', 'API type change in Data
        Mover CRDs: `DataUploadSpec.dataMoverConfig` changed from `*map[string]string`
        to `map[string]string` (watch for custom tooling/controllers that create DataUpload
        objects).']
    features: ['Resource Modifiers enhanced: supports JSON Merge Patch and Strategic
        Merge Patch in addition to JSON Patch, enabling more flexible restore-time
        mutations.', 'Node-agent concurrency controls: configure how many data movement
        activities run per node (globally or per-node) to manage CPU/memory/network
        usage.', 'Kopia performance/tuning knobs: configurable parallel file upload
        options for fs-backups and CSI snapshot data movement; option to write sparse
        files during restore.', 'Improved observability: `velero backup describe`
        now includes a Backup Volumes section and can show CSI snapshot data movement
        details; hook execution details are surfaced in backup/restore status and
        describe output.', 'New backup VolumeInfo metadata file stored with the backup
        to record PV/PVC and volume-method details, helping drive restore behavior
        and enabling downstream consumers to summarize volume data.', 'Resilience
        improvements: CSI snapshot data movement and data mover operations are less
        likely to get stuck after Velero server or node-agent restarts.', 'Cloud/provider
        updates: AWS SDK for Go bumped to v2 for better performance; Azure AD/Workload
        Identity now supported for Kopia operations (fs backup/data mover).', 'Runtime
        updates: Go runtime bumped to 1.21.6 and Kopia bumped to 0.15.0 (plus dependency
        updates for CVEs).']
    breaking_changes: ['`velero backup describe` output changed; automation that scrapes/parses
        the output will likely need updates.', 'Data Mover API change: `DataUploadSpec.dataMoverConfig`
        type changed from pointer-to-map to map; custom integrations that post DataUpload
        resources may break until updated.', Informer cache is enabled by default
        as of 1.13 (install command behavior change). This may cause higher Velero
        pod memory usage and could lead to OOM unless resources are increased or cache
        is disabled.]
  chart_version: 6.7.0
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.13.2']
- version: 1.12.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary:
    helm_changes: "### Helm chart / values changes to plan for\n- **Chart v4.0.0+\
      \ switches BSL/VSL from `map` to `slice` (not backward compatible).** Update\
      \ any Helm values using `configuration.backupStorageLocation` / `volumeSnapshotLocation`\
      \ (or chart equivalents) from a single map/object to a list/array *before* upgrading\
      \ to avoid install/upgrade failures and misconfiguration.\n- **Default uploader\
      \ type changes (Velero 1.12):** upstream install default for `--uploader-type`\
      \ moves from **`restic` \u2192 `kopia`**. In Helm, ensure your values explicitly\
      \ set the uploader path you want (restic vs kopia) so the upgrade doesn\u2019\
      t change filesystem-backup behavior unexpectedly.\n- **CSI snapshot timeout\
      \ settings changed:** Velero 1.12 introduces/uses `backup.spec.csiSnapshotTimeout`\
      \ for sync snapshot handle creation and uses the item operation timeout (default\
      \ 4h) for async readiness. If your Helm values/CLI args set timeouts, review/update\
      \ them to match the new semantics.\n- **Finalizers introduced on Velero CRs\
      \ (restore/dataupload/datadownload):** operationally, uninstall/namespace delete\
      \ behavior changes; ensure the chart upgrade/uninstall procedures in your runbooks\
      \ align (prefer `velero uninstall` or remove finalizers carefully)."
    chart_updates: [Expect Helm upgrade impact primarily from **BSL/VSL values schema
        change to lists** (chart v4+) and any chart defaults around **uploader type**
        and **timeouts** aligning with Velero 1.12 behavior., 'Operational change:
        **finalizers** can cause resources/namespace deletion to hang if controllers
        are gone; adjust upgrade/uninstall sequencing/runbooks accordingly.']
    features: [CSI Snapshot Data Movement (data mover) to copy CSI snapshot contents
        into durable backup storage and restore across environments/clouds., Resource
        Modifiers (JSON substitutions) to patch/transform Kubernetes resources during
        restore without custom RestoreItemAction plugins., Support for selecting among
        multiple VolumeSnapshotClasses for CSI backups (per-backup selection rather
        than a single labeled class)., Restore finalizer that cleans up restore-associated
        external data when running `velero restore delete`., 'Dependency/runtime bumps:
        Go 1.20.7 and Kopia 0.13 (plus other library updates).']
    breaking_changes: [Default filesystem backup uploader switches from **restic to
        kopia** in 1.12; explicitly set your desired uploader to avoid behavior change.,
      'CSI snapshot timing semantics changed: snapshot handle wait is now configurable
        via `backup.spec.csiSnapshotTimeout`; async readiness waits use item operation
        timeouts (default 4h).', Helm chart v4.0.0+ changes **BSL/VSL values from
        map to slice** (not backward compatible); update values prior to upgrade.,
      Finalizers on Velero CRs mean deleting the Velero namespace directly can hang;
        use `velero uninstall` or handle finalizers before namespace deletion.]
  chart_version: 5.2.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.12.3']
- version: 1.11.0
  kube: ['1.35', '1.34', '1.33', '1.32', '1.31', '1.30', '1.29', '1.28', '1.27', '1.26',
    '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19', '1.18']
  requirements: []
  incompatibilities: []
  summary: null
  chart_version: 5.0.2
  images: ['docker.io/bitnami/kubectl:1.35', 'velero/velero:v1.11.1']
- version: 1.10.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
- version: 1.9.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
- version: 1.8.0
  kube: ['1.28', '1.27', '1.26', '1.25', '1.24', '1.23', '1.22', '1.21', '1.20', '1.19',
    '1.18']
  requirements: []
  incompatibilities: []
  summary: null
