fragment RoleBinding on RoleBinding {
  id
  user {
    ...User
  }
  group {
    ...Group
  }
}

fragment Role on Role {
  id
  name
  description
  repositories
  permissions
  roleBindings {
    ...RoleBinding
  }
}

query Roles($q: String, $cursor: String) {
  roles(q: $q, first: 20, after: $cursor) {
    pageInfo {
      ...PageInfo
    }
    edges {
      node {
        ...Role
      }
    }
  }
}

mutation CreateRole($attributes: RoleAttributes!) {
  createRole(attributes: $attributes) {
    ...Role
  }
}

mutation UpdateRole($id: ID!, $attributes: RoleAttributes!) {
  updateRole(id: $id, attributes: $attributes) {
    ...Role
  }
}

mutation DeleteRole($id: ID!) {
  deleteRole(id: $id) {
    ...Role
  }
}
