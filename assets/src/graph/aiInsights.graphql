fragment AiInsight on AiInsight {
  text
  summary
  sha
  freshness
  updatedAt
  insertedAt
  error {
    message
    source
  }
}

fragment AiInsightSummary on AiInsight {
  summary
  freshness
  updatedAt
}

query AI($prompt: String!) {
  ai(prompt: $prompt)
}

query AICompletion($system: String!, $input: String, $chat: [ChatMessage]) {
  aiCompletion(system: $system, input: $input, chat: $chat)
}

query AISuggestedFix($insightID: ID!) {
  aiSuggestedFix(insightId: $insightID)
}
