fragment LogLine on LogLine {
  facets {
    ...LogFacet
  }
  log
  timestamp
}

fragment LogFacet on LogFacet {
  key
  value
}

query LogAggregation(
  $clusterId: ID
  $limit: Int
  $query: String
  $serviceId: ID
  $time: LogTimeRange
  $facets: [LogFacetInput]
) {
  logAggregation(
    clusterId: $clusterId
    limit: $limit
    query: $query
    serviceId: $serviceId
    time: $time
    facets: $facets
  ) {
    ...LogLine
  }
}
