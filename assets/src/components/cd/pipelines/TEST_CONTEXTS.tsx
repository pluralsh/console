import { PipelineContextEdge, PullRequestEdge } from 'generated/graphql'
import { mapExistingNodes } from 'utils/graphql'

const TEST_PRS: PullRequestEdge[] = [
  {
    __typename: 'PullRequestEdge',
    node: {
      __typename: 'PullRequest',
      cluster: {
        __typename: 'Cluster',
        currentVersion: '1.27.9',
        deletedAt: null,
        distro: 'EKS',
        handle: 'boot-prod',
        id: '713d278f-133a-4e56-a114-970a7d886e0a',
        name: 'boot-prod',
        protect: false,
        provider: null,
        self: false,
        version: null,
      },
      creator: null,
      id: 'a9e16908-09d9-4755-a9f9-e9c9578a696a',
      insertedAt: '2024-02-21T20:19:55.969403Z',
      labels: null,
      service: null,
      status: 'OPEN',
      title: 'Updating prod cluster to eks 1.28',
      updatedAt: '2024-02-21T20:19:55.969403Z',
      url: 'https://github.com/pluralsh/plrl-boot-aws/pull/31',
    },
  },
  {
    __typename: 'PullRequestEdge',
    node: {
      __typename: 'PullRequest',
      cluster: {
        __typename: 'Cluster',
        currentVersion: '1.27.9',
        deletedAt: null,
        distro: 'EKS',
        handle: 'boot-prod',
        id: '713d278f-133a-4e56-a114-970a7d886e0a',
        name: 'boot-prod',
        protect: false,
        provider: null,
        self: false,
        version: null,
      },
      creator: null,
      id: 'c3c2e739-b6d2-4974-b5af-3d6a06f1890c',
      insertedAt: '2024-02-21T18:55:55.236278Z',
      labels: null,
      service: null,
      status: 'OPEN',
      title: 'Updating prod cluster to eks 1.28',
      updatedAt: '2024-02-21T18:55:55.236278Z',
      url: 'https://github.com/pluralsh/plrl-boot-aws/pull/30',
    },
  },
  {
    __typename: 'PullRequestEdge',
    node: {
      __typename: 'PullRequest',
      cluster: {
        __typename: 'Cluster',
        currentVersion: '1.27.9',
        deletedAt: null,
        distro: 'EKS',
        handle: 'boot-prod',
        id: '713d278f-133a-4e56-a114-970a7d886e0a',
        name: 'boot-prod',
        protect: false,
        provider: null,
        self: false,
        version: null,
      },
      creator: null,
      id: '9eae4e5e-3a82-475e-8fd8-53852a355b93',
      insertedAt: '2024-02-21T16:43:56.709555Z',
      labels: null,
      service: null,
      status: 'OPEN',
      title: 'Updating prod cluster to eks 1.28',
      updatedAt: '2024-02-21T16:43:56.709555Z',
      url: 'https://github.com/pluralsh/plrl-boot-aws/pull/29',
    },
  },
  {
    __typename: 'PullRequestEdge',
    node: {
      __typename: 'PullRequest',
      cluster: {
        __typename: 'Cluster',
        currentVersion: '1.27.9',
        deletedAt: null,
        distro: 'EKS',
        handle: 'boot-prod',
        id: '713d278f-133a-4e56-a114-970a7d886e0a',
        name: 'boot-prod',
        protect: false,
        provider: null,
        self: false,
        version: null,
      },
      creator: null,
      id: '4daf56de-a057-4d2d-af95-af8ac7e7fa36',
      insertedAt: '2024-02-15T20:19:05.892837Z',
      labels: null,
      service: null,
      status: 'OPEN',
      title: 'Updating prod cluster to eks 1.28',
      updatedAt: '2024-02-15T20:19:05.892837Z',
      url: 'https://github.com/pluralsh/plrl-boot-aws/pull/28',
    },
  },
  {
    __typename: 'PullRequestEdge',
    node: {
      __typename: 'PullRequest',
      cluster: {
        __typename: 'Cluster',
        currentVersion: '1.27.9',
        deletedAt: null,
        distro: 'EKS',
        handle: 'boot-prod',
        id: '713d278f-133a-4e56-a114-970a7d886e0a',
        name: 'boot-prod',
        protect: false,
        provider: null,
        self: false,
        version: null,
      },
      creator: null,
      id: 'cfd649d8-2106-495a-8573-f7a00a8da06c',
      insertedAt: '2024-02-15T14:21:29.487504Z',
      labels: null,
      service: null,
      status: 'OPEN',
      title: 'Updating prod cluster to eks 1.28',
      updatedAt: '2024-02-15T14:21:29.487504Z',
      url: 'https://github.com/pluralsh/plrl-boot-aws/pull/27',
    },
  },
] as PullRequestEdge[]

export const TEST_CONTEXTS: PipelineContextEdge[] = [
  {
    node: {
      id: '018dd6cd-f20c-7efb-a00f-d8729d25fcce',
      context: { name: 'test', service: 'test' },
      insertedAt: '2024-02-21T16:43:56.709555Z',
      updatedAt: '2024-02-23T16:43:56.709555Z',
      pullRequests: mapExistingNodes({ edges: TEST_PRS }).slice(0, 1),
      pipeline: {
        id: 'testid',
        name: 'pipelinetestname',
      },
    },
  },
  {
    node: {
      id: '018dd6cd-f20c-7efb-a00f-d8729d25fcch',
      context: { name: 'test', service: 'test' },
      insertedAt: '2024-02-21T16:43:56.709555Z',
      updatedAt: '2024-02-23T16:43:56.709555Z',
      pullRequests: mapExistingNodes({ edges: TEST_PRS }).slice(1, 3),
      pipeline: {
        id: 'testid',
        name: 'pipelinetestname',
      },
    },
  },
  {
    node: {
      id: '018dd6cd-f20c-7efb-a00f-d8729d25fccg',
      context: { name: 'test', service: 'test' },
      insertedAt: '2024-02-21T16:43:56.709555Z',
      updatedAt: '2024-02-23T16:43:56.709555Z',
      pullRequests: mapExistingNodes({ edges: TEST_PRS }).slice(1, 1),
      pipeline: {
        id: 'testid',
        name: 'pipelinetestname',
      },
    },
  },
  {
    node: {
      id: '018dd6cd-f20c-7efb-a00f-d8729d25fccf',
      context: { name: 'test', service: 'test' },
      insertedAt: '2024-02-21T16:43:56.709555Z',
      updatedAt: '2024-02-23T16:43:56.709555Z',
      pullRequests: mapExistingNodes({ edges: TEST_PRS }).slice(3, 4),
      pipeline: {
        id: 'testid',
        name: 'pipelinetestname',
      },
    },
  },
]
